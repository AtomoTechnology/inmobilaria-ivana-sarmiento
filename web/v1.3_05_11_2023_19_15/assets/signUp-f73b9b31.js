import{r as s,ae as y,A as w,j as e,a as r,h as E}from"./index-3ed1fa78.js";import{u as S,F as o}from"./FormError-a3fab181.js";import{B as v}from"./Box-2f3a3966.js";import{C as u}from"./CustomInput-6ca7ad9c.js";const D=()=>{const[c,i]=s.useState(!1),[l,h]=s.useState(),[d,n]=s.useState(null),p=y();s.useContext(w);const{values:g,handleInputChange:m,email:x,password:f,fullName:b,photo:j,reset:C}=S({email:"",password:"",fullName:"",photo:""}),N=()=>{let t=!0,a={};return x.trim().length||(t=!1,a.email=!0),b.trim().length||(t=!1,a.fullName=!0),(!f||f.trim().length<6)&&(t=!1,a.password=!0),h(a),t};return e("div",{className:"flex  dark:bg-gray-900 items-center justify-center",children:e(v,{className:" w-full sm:w-[360px] mx-3 sm:mx-0  ",children:r("form",{onSubmit:async t=>{if(t.preventDefault(),N()){i(!0);try{const a=await E.post("/auth/SignUp",g);a.data.status===200?(C(),i(!1),p("/")):n(a.data.message)}catch(a){a.response&&(n(a.response.data.message),setTimeout(()=>{n(null)},5e3))}finally{i(!1)}}},className:"flex items-center justify-between flex-col ",children:[e("h3",{className:"title-form self-start mb-4 !text-xl sm:!text-3xl",children:"Crear cuenta"}),d&&e(o,{text:d}),r("fieldset",{children:[e("label",{children:" Nombre Completo"}),e(u,{placeholder:"Juan Diego",onChange:t=>m(t,"fullName")}),(l==null?void 0:l.fullName)&&e(o,{text:"El nombre es obligatorio."})]}),r("fieldset",{children:[e("label",{children:" Email"}),e(u,{type:"email",placeholder:"example@gmail.com",onChange:t=>m(t,"email")}),(l==null?void 0:l.email)&&e(o,{text:"Email obligatorio y válido."})]}),r("fieldset",{children:[e("label",{children:"Contraseña"}),e(u,{type:"password",placeholder:".lk8Tx9W/",onChange:t=>m(t,"password")}),(l==null?void 0:l.password)&&e(o,{text:"Contraseña obligatoria."})]}),e("fieldset",{children:e("button",{disabled:c,className:"btn gradient",type:"submit",children:c?"Espere...":"Crear cuenta"})})]})})})};export{D as default};
